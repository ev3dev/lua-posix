From: Enrico Tassi <gareuselesinge@debian.org>
Date: Sun, 30 Jun 2013 11:59:27 +0200
Subject: Fix compilation on kfreebsd

Freebsd kernel on GNU userland:
  http://www.debian.org/ports/kfreebsd-gnu/
---
 lposix.c | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/lposix.c b/lposix.c
index fa4c0b9..083db4e 100644
--- a/lposix.c
+++ b/lposix.c
@@ -4150,6 +4150,7 @@ LUALIB_API int luaopen_posix_c (lua_State *L)
 	MENTRY( ONLCR		);
 	MENTRY( OCRNL		);
 	MENTRY( ONLRET		);
+#ifndef __FreeBSD_kernel__
 	MENTRY( OFILL		);
 #ifndef __GNU__
 	MENTRY( OFDEL		);
@@ -4162,11 +4163,15 @@ LUALIB_API int luaopen_posix_c (lua_State *L)
 	MENTRY( CR1		);
 	MENTRY( CR2		);
 	MENTRY( CR3		);
+#endif
 	MENTRY( TABDLY		);
 	MENTRY( TAB0		);
+#ifndef __FreeBSD_kernel__
 	MENTRY( TAB1		);
 	MENTRY( TAB2		);
+#endif
 	MENTRY( TAB3		);
+#ifndef __FreeBSD_kernel__
 	MENTRY( BSDLY		);
 	MENTRY( BS0		);
 	MENTRY( BS1		);
@@ -4176,6 +4181,7 @@ LUALIB_API int luaopen_posix_c (lua_State *L)
 	MENTRY( FFDLY		);
 	MENTRY( FF0		);
 	MENTRY( FF1		);
+#endif
 
 	/* cc */
 	MENTRY( VINTR		);
